PS C:\ambulance-planning> pm2 logs --err --lines 50
[TAILING] Tailing last 50 lines for [all] processes (change the value with --lines option)
C:\Users\Administrator\.pm2\logs\ambulance-planning-error.log last 50 lines:
0|ambulanc |   routine: 'ExecConstraints'
0|ambulanc | }
0|ambulanc | Error updating weekday config: error: null value in column "night_shift_count" of relation "weekday_configs" violates not-null constraint
0|ambulanc |     at C:\ambulance-planning\node_modules\pg\lib\client.js:545:17
0|ambulanc |     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
0|ambulanc |     at async file:///C:/ambulance-planning/node_modules/drizzle-orm/node-postgres/session.js:83:22
0|ambulanc |     at async DatabaseStorage.updateWeekdayConfig (file:///C:/ambulance-planning/dist/index.js:2361:29)
0|ambulanc |     at async file:///C:/ambulance-planning/dist/index.js:4301:29 {
0|ambulanc |   length: 283,
0|ambulanc |   severity: 'ERROR',
0|ambulanc |   code: '23502',
0|ambulanc |   detail: 'Failing row contains (23, 3, 1, t, t, 1, null, 2025-11-14 13:58:09.944, f).',
0|ambulanc |   hint: undefined,
0|ambulanc |   position: undefined,
0|ambulanc |   internalPosition: undefined,
0|ambulanc |   internalQuery: undefined,
0|ambulanc |   where: undefined,
0|ambulanc |   schema: 'public',
0|ambulanc |   table: 'weekday_configs',
0|ambulanc |   column: 'night_shift_count',
0|ambulanc |   dataType: undefined,
0|ambulanc |   constraint: undefined,
0|ambulanc |   file: 'execMain.c',
0|ambulanc |   line: '1987',
0|ambulanc |   routine: 'ExecConstraints'
0|ambulanc | }
0|ambulanc | USER CREATION ERROR: error: duplicate key value violates unique constraint "users_username_unique"
0|ambulanc |     at C:\ambulance-planning\node_modules\pg\lib\client.js:545:17
0|ambulanc |     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
0|ambulanc |     at async file:///C:/ambulance-planning/node_modules/drizzle-orm/node-postgres/session.js:83:22
0|ambulanc |     at async DatabaseStorage.createUser (file:///C:/ambulance-planning/dist/index.js:595:20)
0|ambulanc |     at async file:///C:/ambulance-planning/dist/index.js:3035:20 {
0|ambulanc |   length: 214,
0|ambulanc |   severity: 'ERROR',
0|ambulanc |   code: '23505',
0|ambulanc |   detail: 'Key (username)=(bave198) already exists.',
0|ambulanc |   hint: undefined,
0|ambulanc |   position: undefined,
0|ambulanc |   internalPosition: undefined,
0|ambulanc |   internalQuery: undefined,
0|ambulanc |   where: undefined,
0|ambulanc |   schema: 'public',
0|ambulanc |   table: 'users',
0|ambulanc |   column: undefined,
0|ambulanc |   dataType: undefined,
0|ambulanc |   constraint: 'users_username_unique',
0|ambulanc |   file: 'nbtinsert.c',
0|ambulanc |   line: '673',
0|ambulanc |   routine: '_bt_check_unique'
0|ambulanc | }