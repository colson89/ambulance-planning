0|ambulance-planning  | === DESERIALIZE USER ===
0|ambulance-planning  | Deserializing user: { id: 17, sessionStationId: 2 }
0|ambulance-planning  | Using session stationId: 2
0|ambulance-planning  | Retrieved user: { id: 17, username: 'tvdd19', stationId: 2, role: 'admin' }
0|ambulance-planning  | Deleting all shifts for 5/2026 for station 2
0|ambulance-planning  | [0%] Begonnen met verwijderen van 44 shifts...
0|ambulance-planning  | Error deleting shifts: error: update or delete on table "shifts" violates foreign key constraint "verdi_sync_log_shift_id_shifts_id_fk" on table "verdi_sync_log"
0|ambulance-planning  |     at C:\ambulance-planning\node_modules\pg\lib\client.js:545:17
0|ambulance-planning  |     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
0|ambulance-planning  |     at async DatabaseStorage.deleteShift (file:///C:/ambulance-planning/dist/index.js:2241:5)
0|ambulance-planning  |     at async file:///C:/ambulance-planning/dist/index.js:3798:9 {
0|ambulance-planning  |   length: 328,
0|ambulance-planning  |   severity: 'ERROR',
0|ambulance-planning  |   code: '23503',
0|ambulance-planning  |   detail: 'Key (id)=(7992) is still referenced from table "verdi_sync_log".',
0|ambulance-planning  |   hint: undefined,
0|ambulance-planning  |   position: undefined,
0|ambulance-planning  |   internalPosition: undefined,
0|ambulance-planning  |   internalQuery: undefined,
0|ambulance-planning  |   where: undefined,
0|ambulance-planning  |   schema: 'public',
0|ambulance-planning  |   table: 'verdi_sync_log',
0|ambulance-planning  |   column: undefined,
0|ambulance-planning  |   dataType: undefined,
0|ambulance-planning  |   constraint: 'verdi_sync_log_shift_id_shifts_id_fk',
0|ambulance-planning  |   file: 'ri_triggers.c',
0|ambulance-planning  |   line: '2624',
0|ambulance-planning  |   routine: 'ri_ReportViolation'
0|ambulance-planning  | }
0|ambulance-planning  | 10:04:07 PM [express] DELETE /api/shifts/month 500 in 59ms :: {"message":"Failed to delete shifts"}